{% extends 'home/home.html' %}

{% block db_book %}
    <!-- 新增出版社：按钮 -->
    <div class="book-head">
        <span class="btn btn-success btn-lg pull-right" data-toggle="modal"
              data-target=".modal-pub">新增出版社
        </span>
    </div>
    <!-- 新增出版社：模态框 -->
    <div class="modal fade modal-pub" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel">
        <div class="modal-dialog modal-sm" role="document">
            <div class="modal-content">
                <form class="form-horizontal" action="" method="post">
                    {% csrf_token %}
                    <div class="form-group">
                        <div class="col-sm-offset-1 col-sm-10" style="margin-top: 30px;">
                            {{ form.pub_name }}
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-sm-offset-1 col-sm-10" style="margin-bottom: 10px">
                            <button type="submit" class="btn btn-info btn-block">添加</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- 遍历 -->
    <table class="table table-striped">
        <thead>
        <tr class="info text-muted">
            <th width="100">编号</th>
            <th>出版社</th>
            <th></th>
        </tr>
        </thead>
        <tbody>
        {% for pub in pub_obj %}
            <tr height="50">
                <td class="text-muted">{{ forloop.counter }}</td>
                <!-- 出版社超链接 -->
                <td>
                    <a href="/app_home/{{ pub.pk }}/pub_info/">{{ pub.pub_name }}</a>
                </td>

                <td>
                    <!-- 删除：按钮 -->
                    <a href="/app_home/{{ pub.pk }}/delete_pub" class="btn btn-danger btn-sm
                    pull-right">删除</a>
                    <!-- 修改：按钮 -->
                    <a href="/app_home/{{ pub.pk }}/change_pub" class="btn btn-warning btn-sm pull-right"
                       style="margin-right: 5px">修改</a>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
{% endblock %}